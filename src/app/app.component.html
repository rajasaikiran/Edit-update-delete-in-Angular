<div class="container bg-light">
  <h2 class="py-4">My Cars</h2>

  <table class="table table-hover">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Brand</th>
        <th scope="col">Model</th>
        <th scope="col">Year</th>
        <th scope="col">Actions</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let car of cars; let i = index">
        <th scope="row">{{ i + 1 }}</th>
        <td>{{ car.brand }}</td>
        <td>{{ car.model }}</td>
        <td>{{ car.year }}</td>

        <td>
          <div class="d-grid gap-2 d-md-flex justify-content-md-start">
            <button
              class="btn btn-outline-primary me-md-2"
              (click)="editCar(car)"
              type="button"
            >
              Edit
            </button>
            <button
              class="btn btn-outline-danger"
              (click)="DeleteCar(i)"
              type="button"
            >
              Delete
            </button>
          </div>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- <pre *ngIf="car">{{ car.value | json }}</pre> -->
  
   <ng-container *ngIf="car">
    <h2 class="py-4">Edit Car</h2>
    <form [formGroup]="car">
      <div class="form-group row">
        <label for="brand" class="col-sm-2 col-form-label">Brand</label>
        <div class="col-sm-6">
          <input
            type="text"
            class="form-control"
            id="brand"
            formControlName="brand"
          />
        </div>
      </div>
      <div class="form-group row">
        <label for="model" class="col-sm-2 col-form-label">Model</label>
        <div class="col-sm-6">
          <input
            type="text"
            class="form-control"
            id="model"
            formControlName="model"
          />
        </div>
      </div>
      <div class="form-group row">
        <label for="year" class="col-sm-2 col-form-label">Year</label>
        <div class="col-sm-3">
          <input
            type="number"
            class="form-control"
            id="year"
            formControlName="year"
          />
        </div>
      </div>
      <div class="form-group row p-2">
        <div class="col-sm-4 d-grid gap-2 d-md-flex justify-content-md-end">
          <button type="submit" class="btn btn-primary mr-2" (click)="save()">
            Save
          </button>
          <button
            type="reset"
            class="btn btn-outline-danger"
            (click)="cancel()"
          >
            Cancel
          </button>
        </div>
      </div>
    </form>
  </ng-container> 
</div>
